---
sidebar_position: 2
---

# Mining

คือ official game hook บนระบบ fields ที่ใช้การขุดเหรียญแบบ Proof-of-Work (PoW) โดยเชื่อมโยงกับ NFT ที่ถูกนำไปวางค้ำประกัน (Stake) ผ่านระบบ `CmdaoFieldsV2Router` ผู้ใช้สามารถเข้าร่วมขุดได้หากมี NFT ที่ได้รับสิทธิ์ และทำตามเงื่อนไขการขุด รางวัลจะลดลงเรื่อย ๆ ตามระยะเวลา และระบบจะปรับความยากให้เหมาะสมกับประสิทธิภาพของนักขุด

## วิธีการทำงาน

NFT ต้องมีสิทธิ์ขุด - NFT แต่ละชิ้นจะถูกกำหนดว่าสามารถใช้ขุดได้หรือไม่

ต้องมีการวางค้ำประกัน (Stake) - NFT ที่ใช้ขุดต้องถูกนำไป Stake ไว้ในระบบ

แก้โจทย์คำนวณ (Proof-of-Work) - นักขุดต้องสร้างค่าแฮช (Hash) ที่ถูกต้องตามเงื่อนไขของระบบ

ได้รับรางวัล - เมื่อขุดสำเร็จ นักขุดจะได้รับโทเค็นเป็นรางวัล

ปรับระดับความยาก - ระบบจะปรับความยากในการขุดทุก ๆ 10 บล็อกเพื่อให้เหมาะสมกับเวลาในการขุด

## กฎของการขุด

รางวัลการขุดลดลงเมื่อเวลาผ่านไป: เริ่มต้นที่ 50 เหรียญต่อบล็อก และลดลงตามสูตร

ความยากในการขุดปรับตามเวลาที่ใช้ขุด: หากขุดเร็วไป ระบบจะเพิ่มความยาก แต่ถ้าขุดช้าเกินไป ระบบจะลดความยากลง

การขุดต้องทำตามเงื่อนไข: นักขุดต้องใช้ข้อมูลที่ถูกต้อง และค่าแฮชต้องอยู่ในระดับที่กำหนด

## ขั้นตอนการขุด

1. ตรวจสอบว่า NFT ของคุณสามารถขุดได้
2. ตรวจสอบว่า NFT ของคุณถูก Stake อยู่ในระบบ `CmdaoFieldsV2Router`
3. สร้างค่าแฮชที่ถูกต้อง
4. ส่งคำขอขุดไปที่ระบบ
5. หากสำเร็จ คุณจะได้รับรางวัลเป็นโทเค็น
6. ระบบจะปรับระดับความยากตามเวลาที่ใช้ขุด

## ตัวอย่าง Tokenomics ของ Wood V2 ($cmd-wood) บน JB Chain

### ข้อมูลทั่วไป
- ชื่อโทเค็น: Wood V2 ($cmd-wood)
- บล็อกเชน: JB Chain
- Block Time เป้าหมาย = 50 นาทีต่อบล็อก
- ระบบขุด (Mining Mechanism): Proof-of-Work (PoW) ที่ผูกกับ NFT
- NFT ที่ใช้ขุด: CommuDAO NFT (CMDAO-NFT)
- กลไกการลดความยาก (Difficulty Adjustment): ขึ้นอยู่กับค่า cmpow (เลข 5 ตัวท้ายของ NFT ID)

### ระบบรางวัลและการขุด

Wood V2 ใช้กลไกการขุดเพื่อกระจายโทเค็นให้กับผู้ใช้งานที่ถือ CMDAO-NFT โดยรางวัลจากการขุดคำนวณตามสูตรต่อไปนี้:

#### การคำนวณรางวัลการขุด

รางวัลจากการขุดขึ้นอยู่กับจำนวนบล็อกที่ถูกขุดไปแล้ว โดยรางวัลลดลงเมื่อเวลาผ่านไป ตามสูตร:

$$
Reward = \frac{100 \times 10^{18}}{2 \times ((currentBlock / 100000) + 1)}
$$

ตัวอย่าง:
- ถ้าขุดได้ที่บล็อก 50,000 → Reward = $\frac{100}{2} = 50$ Wood V2
- ถ้าขุดได้ที่บล็อก 150,000 → Reward = $\frac{100}{4} = 25$ Wood V2

#### การปรับค่าความยาก (Difficulty Adjustment)

ระบบจะปรับค่าความยากทุก 10 บล็อก โดยคำนวณจากระยะเวลาการขุดจริงระหว่างรอยต่อของการปรับค่าความยาก เมื่อเทียบกับเป้าหมาย 50 นาที

กลไกการลดค่าความยากเฉพาะสำหรับ CMDAO-NFT:
- NFT แต่ละตัวมีค่า cmpow ซึ่งเป็น เลข 5 ตัวสุดท้ายของ NFT ID
- ค่าความยากของนักขุดจะลดลงตามสูตร:
$$
minerDifficulty = currentDifficulty - (cmpow \mod 100000) / 100
$$

ตัวอย่าง:
- NFT ID = 123456789012345 → ค่า cmpow = 12345
- ค่าความยากลดลง 12345 ÷ 100 = 123
- ถ้าค่าความยากเดิมเป็น 200 → ค่าความยากที่ใช้ขุดจริง = 77

### ความสมดุลของระบบ (Sustainability Mechanism)
- ความยากเพิ่มขึ้นหากขุดเร็วเกินไป เพื่อรักษาความสมดุล
- รางวัลลดลงเมื่อบล็อกสูงขึ้น เพื่อลดอัตราเงินเฟ้อ
- CMDAO-NFT ช่วยลดค่าความยาก เพื่อให้ผู้ถือ NFT มีโอกาสขุดได้มากขึ้น

### ตาราง Halving ของ Wood V2

คำนวณอัตราการปล่อยโทเค็น Wood V2 ($cmd-wood) ตามระบบ Halving โดยใช้ข้อมูลต่อไปนี้:
- เริ่มต้นที่ 50 Wood V2 ต่อบล็อก
- Halving ทุก 100,000 บล็อก
- Block Time เป้าหมาย = 50 นาที
- Max Supply = กำหนดให้ 10 ล้าน Wood V2 (สมมติฐาน)
- สูตรคำนวณจำนวนเหรียญที่ปล่อยออกมาทุก Halving Cycle
$$
\sum_{n=0}^{N} \left( \frac{50}{2^n} \times 100,000 \right)
$$
โดย n คือรอบของ Halving

| Halving Cycle | Block Height | Reward (Wood V2/block) | Tokens Released in Cycle | Cumulative Supply | Years Passed |
| ------------- | ------------- | ------------- | ------------- | ------------- | ------------- |
| 0 (Start) | 0 | 50 | 5,000,000 | 5,000,000 | 0 | 
| 1 | 100,000 | 25 | 2,500,000 | 7,500,000 | 9.5 |
| 2 | 200,000 | 12.5 | 1,250,000 | 8,750,000 | 19.0 |
| 3 | 300,000 | 6.25 | 312,500 | 9,375,000 | 28.5 |
| 4 | 400,000 | 3.125 | 1,250,000 | 9,687,500 | 38.0 |
| 5 | 500,000 | 1.5625 | 156,250 | 9,843,750 | 47.5 |
| 6 | 600,000 | 0.78125 | 78,125 | 9,921,875 | 57.0 |
| 7 | 700,000 | 0.390625 | 39,062.5 | 9,960,938 | 66.5 |
| 8 | 800,000 | 0.1953125 | 19,531.25 | 9,980,469 | 76.0 |
| 9 | 900,000 | 0.09765625 | 9,765.625 | 9,990,234 | 85.5 |
| 10 | 1,000,000 | 0.048828125 | 4,882.8125 | 9,995,117 | 95.0 |

สรุป
- ใช้เวลาประมาณ 95 ปี เพื่อให้เหรียญถูกปล่อยออกมาเกือบถึง Max Supply ที่ 10 ล้าน
- ทุก 9.5 ปี จะมี Halving รอบใหม่ ทำให้รางวัลลดลงครึ่งหนึ่ง
- หลังจาก 100 ปี ปริมาณเหรียญใหม่ที่ขุดได้จะลดลงจนเข้าสู่ภาวะเงินฝืด (Deflationary)
