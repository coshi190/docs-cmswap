---
sidebar_position: 2
---

# Mining

คือ official game hook บนระบบ fields ที่ใช้การขุดเหรียญแบบ Proof-of-Work (PoW) โดยเชื่อมโยงกับ NFT ที่ถูกนำไปวางค้ำประกัน (Stake) ผ่านระบบ `CmdaoFieldsV2Router` ผู้ใช้สามารถเข้าร่วมขุดได้หากมี NFT ที่ได้รับสิทธิ์ และทำตามเงื่อนไขการขุด รางวัลจะลดลงเรื่อย ๆ ตามระยะเวลา และระบบจะปรับความยากให้เหมาะสมกับประสิทธิภาพของนักขุด

## วิธีการทำงาน

NFT ต้องมีสิทธิ์ขุด - NFT แต่ละชิ้นจะถูกกำหนดว่าสามารถใช้ขุดได้หรือไม่

ต้องมีการวางค้ำประกัน (Stake) - NFT ที่ใช้ขุดต้องถูกนำไป Stake ไว้ในระบบ

แก้โจทย์คำนวณ (Proof-of-Work) - นักขุดต้องสร้างค่าแฮช (Hash) ที่ถูกต้องตามเงื่อนไขของระบบ

ได้รับรางวัล - เมื่อขุดสำเร็จ นักขุดจะได้รับโทเค็นเป็นรางวัล

ปรับระดับความยาก - ระบบจะปรับความยากในการขุดทุก ๆ 10 บล็อกเพื่อให้เหมาะสมกับเวลาในการขุด

## กฎของการขุด

รางวัลการขุดลดลงเมื่อเวลาผ่านไป: เริ่มต้นที่ 50 เหรียญต่อบล็อก และลดลงตามสูตร

ความยากในการขุดปรับตามเวลาที่ใช้ขุด: หากขุดเร็วไป ระบบจะเพิ่มความยาก แต่ถ้าขุดช้าเกินไป ระบบจะลดความยากลง

การขุดต้องทำตามเงื่อนไข: นักขุดต้องใช้ข้อมูลที่ถูกต้อง และค่าแฮชต้องอยู่ในระดับที่กำหนด

## ขั้นตอนการขุด

1. ตรวจสอบว่า NFT ของคุณสามารถขุดได้
2. ตรวจสอบว่า NFT ของคุณถูก Stake อยู่ในระบบ `CmdaoFieldsV2Router`
3. สร้างค่าแฮชที่ถูกต้อง
4. ส่งคำขอขุดไปที่ระบบ
5. หากสำเร็จ คุณจะได้รับรางวัลเป็นโทเค็น
6. ระบบจะปรับระดับความยากตามเวลาที่ใช้ขุด

## ตัวอย่าง Tokenomics ของ Wood V2 ($cmd-wood) บน JB Chain

### ข้อมูลทั่วไป
- ชื่อโทเค็น: Wood V2 ($wood-v2)
- บล็อกเชน: JB Chain
- Block Time เป้าหมาย = 3 นาทีต่อบล็อก
- ระบบขุด (Mining Mechanism): Proof-of-Work (PoW) ที่ผูกกับ NFT
- NFT ที่ใช้ขุด: CommuDAO NFT (CMDAO-NFT)
- กลไกการลดความยาก (Difficulty Adjustment): ขึ้นอยู่กับค่า cmpow (เลข 5 ตัวท้ายของ NFT ID)

### ระบบรางวัลและการขุด

Wood V2 ใช้กลไกการขุดเพื่อกระจายโทเค็นให้กับผู้ใช้งานที่ถือ CMDAO-NFT โดยรางวัลจากการขุดคำนวณตามสูตรต่อไปนี้:

#### การคำนวณรางวัลการขุด

รางวัลจากการขุดขึ้นอยู่กับจำนวนบล็อกที่ถูกขุดไปแล้ว โดยรางวัลลดลงเมื่อเวลาผ่านไป ตามสูตร:

$$
Reward = \frac{100 \times 10^{18}}{2 \times ((currentBlock / 100000) + 1)}
$$

ตัวอย่าง:
- ถ้าขุดได้ที่บล็อก 50,000 → Reward = $\frac{100}{2} = 50$ Wood V2
- ถ้าขุดได้ที่บล็อก 150,000 → Reward = $\frac{100}{4} = 25$ Wood V2

#### การปรับค่าความยาก (Difficulty Adjustment)

ระบบจะปรับค่าความยากทุก 10 บล็อก โดยคำนวณจากระยะเวลาการขุดจริงระหว่างรอยต่อของการปรับค่าความยาก เมื่อเทียบกับเป้าหมาย 50 นาที

กลไกการลดค่าความยากเฉพาะสำหรับ CMDAO-NFT:
- NFT แต่ละตัวมีค่า cmpow ซึ่งเป็น เลข 5 ตัวสุดท้ายของ NFT ID
- ค่าความยากของนักขุดจะลดลงตามสูตร:
$$
minerDifficulty = currentDifficulty - (cmpow \mod 100000) / 1000
$$

ตัวอย่าง:
- NFT ID = 123456789012345 → ค่า cmpow = 12345
- ค่าความยากลดลง 12345 ÷ 1000 = 12
- ถ้าค่าความยากเดิมเป็น 100 → ค่าความยากที่ใช้ขุดจริง = 88

### ความสมดุลของระบบ (Sustainability Mechanism)
- ความยากเพิ่มขึ้นหากขุดเร็วเกินไป เพื่อรักษาความสมดุล
- รางวัลลดลงเมื่อบล็อกสูงขึ้น เพื่อลดอัตราเงินเฟ้อ
- CMDAO-NFT ช่วยลดค่าความยาก เพื่อให้ผู้ถือ NFT มีโอกาสขุดได้มากขึ้น

### ตาราง Halving ของ Wood V2

คำนวณอัตราการปล่อยโทเค็น Wood V2 ($wood-v2) ตามระบบ Halving โดยใช้ข้อมูลต่อไปนี้:
- เริ่มต้นที่ 50 Wood V2 ต่อบล็อก
- Halving ทุก 100,000 บล็อก
- Block Time เป้าหมาย = 3 นาที
- Max Supply = กำหนดให้ 10 ล้าน Wood V2 (สมมติฐาน)
- สูตรคำนวณจำนวนเหรียญที่ปล่อยออกมาทุก Halving Cycle
$$
\sum_{n=0}^{N} \left( \frac{50}{2^n} \times 100,000 \right)
$$
โดย n คือรอบของ Halving

| Halving Cycle | Block Height | Reward (Wood V2/block) | Tokens Released in Cycle | Cumulative Supply | Years Passed |
| ------------- | ------------- | ------------- | ------------- | ------------- | ------------- |
| 1 | 0 | 50.000000 | 5,000,000.00 | 5,000,000.00 | 0.00 |
| 2 | 100,000 | 25.000000 | 2,500,000.00 | 7,500,000.00 | 0.57 |
| 3 | 200,000 | 12.500000 | 1,250,000.00 | 8,750,000.00 | 1.14 |
| 4 | 300,000 | 6.250000 | 625,000.00 | 9,375,000.00 | 1.71 |
| 5 | 400,000 | 3.125000 | 312,500.00 | 9,687,500.00 | 2.28 |
| 6 | 500,000 | 1.562500 | 156,250.00 | 9,843,750.00 | 2.85 |
| 7 | 600,000 | 0.781250 | 78,125.00 | 9,921,875.00 | 3.42 |
| 8 | 700,000 | 0.390625 | 39,062.50 | 9,960,937.50 | 4.00 |
| 9 | 800,000 | 0.195312 | 19,531.25 | 9,980,468.75 | 4.57 |
| 10 | 900,000 | 0.097656 | 9,765.62 | 9,990,234.38 | 5.14 |
| 11 | 1,000,000 | 0.048828 | 4,882.81 | 9,995,117.19 | 5.71 |
| 12 | 1,100,000 | 0.024414 | 2,441.41 | 9,997,558.59 | 6.28 |
| 13 | 1,200,000 | 0.012207 | 1,220.70 | 9,998,779.30 | 6.85 |
| 14 | 1,300,000 | 0.006104 | 610.35 | 9,999,389.65 | 7.42 |
| 15 | 1,400,000 | 0.003052 | 305.18 | 9,999,694.82 | 7.99 |
| 16 | 1,500,000 | 0.001526 | 152.59 | 9,999,847.41 | 8.56 |
| 17 | 1,600,000 | 0.000763 | 76.29 | 9,999,923.71 | 9.13 |
| 18 | 1,700,000 | 0.000381 | 38.15 | 9,999,961.85 | 9.70 |
| 19 | 1,800,000 | 0.000191 | 19.07 | 9,999,980.93 | 10.27 |

สรุป
- ใช้เวลาประมาณ 10 ปี เพื่อให้เหรียญถูกปล่อยออกมาเกือบถึง Max Supply ที่ 10 ล้าน
- ทุก ครึ่งปี จะมี Halving รอบใหม่ ทำให้รางวัลลดลงครึ่งหนึ่ง
- หลังจาก 10 ปี ปริมาณเหรียญใหม่ที่ขุดได้จะลดลงจนเข้าสู่ภาวะเงินฝืด (Deflationary)
